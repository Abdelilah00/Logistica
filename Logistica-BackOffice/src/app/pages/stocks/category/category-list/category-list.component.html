<div class="container-fluid">
  <app-pagetitle [breadcrumbItems]="breadCrumb.items" [title]='breadCrumb.title'></app-pagetitle>
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class='card-body'>
          <div>
            <!--  -->
            <a [routerLink]="['../create']" class="btn btn-success mb-2">
              <i class="mdi mdi-plus mr-2"></i> Add Category
            </a>

            <kendo-grid (dataStateChange)="onStateChange($event)" [data]="gridData"
                        [height]="500" [pageSize]="gridState.take" [pageable]="true"
                        [skip]="gridState.skip"
                        [sort]="gridState.sort" [sortable]="true">

              <kendo-grid-column field="name" title="name">
              </kendo-grid-column>
              <kendo-grid-column field="defaultTva" title="default TVA">
              </kendo-grid-column>
              <kendo-grid-column field="defaultStockMin" title="defaultStockMin">
              </kendo-grid-column>
              <kendo-grid-column field="defaultStockMax" title="defaultStockMax">
              </kendo-grid-column>
              <kendo-grid-column field="defaultStockSecurity" title="defaultStockSecurity">
              </kendo-grid-column>

              <kendo-grid-command-column title="Options">
                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                  <button class='btn btn-dark' kendoGridRemoveCommand [routerLink]="['../create']"
                          [queryParams]="{ parentId:dataItem.id}">
                    create sub category
                  </button>
                </ng-template>
              </kendo-grid-command-column>

              <div *kendoGridDetailTemplate="let dataItem">
                <app-category-details [inputId]='dataItem.id'></app-category-details>
              </div>

            </kendo-grid>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
